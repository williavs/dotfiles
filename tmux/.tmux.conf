 # Tmux Configuration

 # Enable mouse support
set -g mouse on

 # Better colors and terminal settings
set -g default-terminal "tmux-256color"
 # Enable UTF-8 (for older tmux versions)


# Pane Titles on
set -g set-titles on
set -g set-titles-string '#{pane_title}'

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# History limit
set -g history-limit 50000

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'catppuccin/tmux'
set -g @plugin 'tmux-plugins/tmux-logging'
set -g @plugin 'b0o/tmux-autoreload'
set -g @plugin 'laktak/extrakto'


### DISPLAY_POPUP ####

bind j display-popup -E "tmux list-sessions | sed -E 's/:.*$//' | grep -v \"^$(tmux display-message -p '#S')\$\" | fzf --reverse | xargs tmux switch-client -t"


##### Display Menu ##### 

bind d display-menu -T "#[align=centre]Dotfiles" -x C -y C \
  ".zshrc"            z  "display-popup -E 'nano ~/.zshrc'" \
  ".tmux.conf"        t  "display-popup -E 'nano ~/.tmux.conf'" \
  ".config/wezterm"   w  "display-popup -E 'nano ~/.config/wezterm/wezterm.lua'" \
  ".sketchybarrc"     s  "display-popup -d "~/.config/sketchybar" -E 'nano ~/.config/sketchybar/sketchybarrc'" \
  "Exit"              q  ""



# todobi popup (thinner and taller)
bind t display-popup -E -w 40% -h 80% "todobi"

# Popup styling
set -g popup-style "bg=default,fg=white"
set -g popup-border-style "fg=blue"
set -g popup-border-lines "heavy"

# # message text
set-option -g message-style bg=colour235,fg=colour166 # bg=base02, fg=orange

# easy reload config
bind-key r source-file ~/.tmux.conf \; display-message "~/.tmux.conf reloaded."

# session navigation
bind n switch-client -n  # next session
bind p switch-client -p  # previous session

# clock
set -g status-interval 1
set -g status-justify centre # center align window list
set -g status-left-length 20
set -g status-right-length 140
set -g status-right '#[fg=white,bg=default]%a%l:%M:%S %p#[default] #[fg=blue]%Y-%m-%d'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tmux/catppuccin.tmux'
run '~/.tmux/plugins/tpm/tpm'
